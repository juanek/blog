<!DOCTYPE html>
<html lang="es">
  <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Juan E. Kipes Blog</title>

  <link rel="stylesheet" href="/css/main.css">

</head>

  <body>
    <!-- NAV -->
<nav class="navbar navbar-expand-md navbar-light py-4">
  <div class="container">
    <a href="/" class="navbar-brand">
      <h2 class="d-inline align-middle pl-3 text-primary">Juan E. Kipes</h2>
    </a>
    <button class="navbar-toggler" data-toggle="collapse" data-target="#navbarNav">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav">
        <li class="nav-item">
          <a href="/archivos/" class="nav-link">Archivos</a>
        </li>
        <li class="nav-item">
          <a href="/acerca/" class="nav-link">Sobre Mí</a>
        </li>
      </ul>
    </div>
  </div>
</nav>

    <section id="banner" class="py-5 d-none d-sm-block">
  <div class="primary-overlay text-white">
    <div class="container">
      <div class="row">
        <div class="col-md-12 text-center">
          <!--<h1 class="display-5 pt-1">
	      ...un blog para compartir código...
      </h1>-->
      </div>
<!--      <div class="col-md-2"></div>-->
    </div>
  </div>
</section>

    <div id="post" class="container pt-3">
  <div class="row">
    <div class="col">
      <p class="lead text-info">
        Sep 15, 2018
      </p>
      <h1>Como verificar el uso del disco en linux</h1>
      <article>
        <p>Para ontener información del uso del disco de archivos y directorios de sistemas UNIX/LINUX podemos usar el comando <strong>du (Disk Usage)</strong> .</p>

<p>Estos son algunos de los comandos <strong>du</strong> con combinación de opciones que nos ayudarán a encontrar esta información.</p>

<ul>
  <li>Obtener el tamaño de todos los archivos y sub directorios recursivamente, en formato legible del directorio <strong>/home/juan/Documentos/cursoPython/</strong> con un indicador del tamaño de total de uso al final.</li>
</ul>

<figure class="highlight"><pre><code class="language-console" data-lang="console"><span class="gp">juan@juan:~$</span> <span class="nb">du</span> <span class="nt">-ahc</span>  /home/juan/Documentos/cursoPython/
<span class="go">0	/home/juan/Documentos/cursoPython/tutorial/ejercicio2.py
4,0K	/home/juan/Documentos/cursoPython/tutorial/ejemploExisteDirectorio.py
52K	/home/juan/Documentos/cursoPython/tutorial/dependencias.txt
60K	/home/juan/Documentos/cursoPython/tutorial
932K	/home/juan/Documentos/cursoPython/apuntes/curso-python.pdf
936K	/home/juan/Documentos/cursoPython/apuntes
4,0K	/home/juan/Documentos/cursoPython/indice.txt
4,0K	/home/juan/Documentos/cursoPython/libros
1008K	/home/juan/Documentos/cursoPython/
1008K	total</span></code></pre></figure>

<ul>
  <li>Cuando el árbol de directorios sobre el que necesitamos obtener irnformación es grande, podemos limitar su profundidad  con la opción <strong>–max-depth=</strong></li>
</ul>

<figure class="highlight"><pre><code class="language-console" data-lang="console"><span class="gp">juan@juan:~$</span> <span class="nb">du</span> <span class="nt">-ahc</span> <span class="nt">--max-depth</span><span class="o">=</span>1 /home/juan/bitbucket/java/
<span class="go">448K	/home/juan/bitbucket/java/CalculatorWS_Client_Application.
152K	/home/juan/bitbucket/java/java-gson
200K	/home/juan/bitbucket/java/.git
4,0K	/home/juan/bitbucket/java/.gitignore
184K	/home/juan/bitbucket/java/CalculatorWSApplication
760K	/home/juan/bitbucket/java/java-test
232K	/home/juan/bitbucket/java/CalculatorWSClient
0	/home/juan/bitbucket/java/mitexto.txt
2,0M	/home/juan/bitbucket/java/
2,0M	total</span></code></pre></figure>

<ul>
  <li>Si sólo queremos obtener información de los directorios podemos usar.</li>
</ul>

<figure class="highlight"><pre><code class="language-console" data-lang="console"><span class="gp">juan@juan:~$</span> <span class="nb">du</span> <span class="nt">-hc</span> <span class="nt">--max-depth</span><span class="o">=</span>1 /home/juan/bitbucket/java/
<span class="go">448K	/home/juan/bitbucket/java/CalculatorWS_Client_Application.
152K	/home/juan/bitbucket/java/java-gson
200K	/home/juan/bitbucket/java/.git
184K	/home/juan/bitbucket/java/CalculatorWSApplication
760K	/home/juan/bitbucket/java/java-test
232K	/home/juan/bitbucket/java/CalculatorWSClient
2,0M	/home/juan/bitbucket/java/
2,0M	total</span></code></pre></figure>

<ul>
  <li>Podemos ver más opciones de este comando con <strong>du –help</strong></li>
</ul>

<figure class="highlight"><pre><code class="language-console" data-lang="console"><span class="gp">juan@juan:~$</span> <span class="nb">du</span> <span class="nt">--help</span>
<span class="go">Modo de empleo: du [OPCIÓN]... [FICHERO]...
       o bien:  du [OPCIÓN]... --files0-from=F
Summarize disk usage of the set of FILEs, recursively for directories.

Los argumentos obligatorios para las opciones largas son también obligatorios
para las opciones cortas.
  -0, --null            termina cada línea con NUL, no con nueva línea
  -a, --all             muestra resultados para todos los ficheros, no sólo
                        para los directorios
      --apparent-size   muestra los tamaños aparentes, en lugar del uso de
</span><span class="gp">                          disco;</span> el tamaño aparente es normalmente más pequeño,
<span class="go">                          puede ser más grande debido a agujeros en ficheros
                          dispersos, fragmentación interna, bloques indirectos,
                          etc.
</span><span class="gp">  -B, --block-size=TAM  escala los tamaños por TAM antes de mostrarlos;</span>
<span class="go">                          p. ej., '-BM' muestra los tamaños en unidades de
</span><span class="gp">                          1.048.576 bytes;</span> vea el formato de TAMAÑO más abajo
<span class="go">  -b, --bytes           equivalente a '--apparent-size --block-size=1'
  -c, --total           produce un "total"
  -D, --dereference-args  sigue solamente los enlaces listados en la línea de
                          órdenes
  -d, --max-depth=N     muestra el total para un directorio (o para un fichero,
                          con --all) solamente si está N o menos niveles por
</span><span class="gp">                          debajo del argumento de la línea de órdenes;</span>
<span class="go">                          --max-depth=0 es lo mismo que --summarize
      --files0-from=F   resume el uso de disco de los nombres de ficheros
</span><span class="gp">                          terminados en NUL especificados en el fichero F;</span>
<span class="go">                          si F es - entonces lee los nombres de la entrada
                          estándar
  -H                    equivalente a --dereference-args (-D)
  -h, --human-readable  muestra los tamaños de forma legible
                        (p. ej., 1K 234M 2G)
      --inodes          muestra el uso de nodos-i en lugar del uso de bloques
  -k                    como --block-size=1K
  -L, --dereference     sigue todos los enlaces simbólicos
  -l, --count-links     cuenta los tamaños varias veces si hay enlaces fuertes
  -m                    como --block-size=1M
  -P, --no-dereference  no sigue ningún enlace simbólico (predeterminado)
  -S, --separate-dirs   para directorios no incluye el tamaño de los subdirectorios
      --si              como -h, pero utiliza potencias de 1000, no de 1024
  -s, --summarize       muestra solamente un total para cada argumento
  -t, --threshold=TAM    excluye entradas menores que TAM si es positivo,
                           o entradas mayores que TAM si es negativo
      --time             muestra la fecha/hora de la última modificación de
                           cualquier fichero dentro del directorio, o de
                           cualquiera de sus subdirectorios
      --time=PALABRA     muestra la fecha/hora como PALABRA en lugar de la
                           fecha de modificación:
                           atime, access, use, ctime o status
      --time-style=ESTILO muestra las fechas/horas usando el estilo ESTILO,
                          que puede ser: full-iso, long-iso, iso, o +FORMATO
                          FORMATO se interpreta como en 'date'
  -X, --exclude-from=FICH  excluye los ficheros que coinciden con
                             cualquier patrón en FICH.
      --exclude=PATRÓN     excluye los ficheros que coinciden con PATRÓN.
  -x, --one-file-system    se salta los directorios de otros sistemas de
                             ficheros
      --help     muestra esta ayuda y finaliza
      --version  informa de la versión y finaliza

Los valores se muestran en unidades del primer TAMAÑO disponible de
--block-size, y las variables de entorno DU_BLOCK_SIZE, BLOCK_SIZE y BLOCKSIZE.
En caso contrario, las unidades son 1024 bytes (o 512 si se ha
establecido POSIXLY_CORRECT).

El argumento TAM es un entero y una unidad opcional (ejemplo: 10M es 10*1024*1024).
Las unidades son K,M,G,T,P,E,Z,Y (potencias de 1024) o KB,MB, ... (potencias de 1000).</span></code></pre></figure>


      </article>
    </div>
  </div>
  
</div>

    <footer class="py-5">
  <hr>
  <div class="container text-center text-info">
    <div class="row">
      <div class="col">
        
          <div class="social-links">
  <a target="_blank" href="https://github.com/juanek">
    <i class="fab fa-github fa-2x"></i>
  </a>
  <a href="mailto:juanekipes@gmail.com">
    <i class="fa fa-envelope fa-2x" ></i>
  </a>
  <a target="_blank" href="https://ar.pinterest.com/jkipes">
    <i class="fab fa-pinterest fa-2x"></i>
  </a>
  <!--<a target="_blank" href="https://twitter.com/">
    <i class="fab fa-twitter fa-2x"></i>
  </a>-->
</div>

        
      </div>
    </div>
    <div class="row">
      <div class="col">
        Juan E. Kipes &copy; 2018.
      </div>
    </div>
  </div>
</footer>

<!-- JS -->
<script defer src="https://use.fontawesome.com/releases/v5.0.8/js/all.js" integrity="sha384-SlE991lGASHoBfWbelyBPLsUlwY1GwNDJo3jSJO04KZ33K2bwfV9YBauFfnzvynJ" crossorigin="anonymous"></script>
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
 <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
 <script src="//cdnjs.cloudflare.com/ajax/libs/highlightjs-line-numbers.js/2.4.0/highlightjs-line-numbers.min.js"></script>
  <script type="text/javascript">
    hljs.initHighlightingOnLoad();
    hljs.initLineNumbersOnLoad();
 </script>

  </body>
</html>
